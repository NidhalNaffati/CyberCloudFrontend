<div class="container mt-4">
  <h2>Add Consultation</h2>

  <form [formGroup]="consultationForm" (ngSubmit)="addConsultation()">
    <div class="form-group">
      <label>Details :</label>
      <input type="text" class="form-control" formControlName="details" />
      <div *ngIf="consultationForm.get('details')?.touched && consultationForm.get('details')?.invalid" class="text-danger">
        <small *ngIf="consultationForm.get('details')?.hasError('required')">Details field is required.</small>
      </div>
    </div>

    <div class="form-group">
      <label>Description :</label>
      <input type="text" class="form-control" formControlName="description" />
      <div *ngIf="consultationForm.get('description')?.touched && consultationForm.get('description')?.invalid" class="text-danger">
        <small *ngIf="consultationForm.get('description')?.hasError('required')">The 'Description' field is required..</small>
      </div>
    </div>

    <div class="form-group">
      <label>Duration (HH:mm:ss) :</label>
      <input type="time" class="form-control" formControlName="actualDuration" />
      <div *ngIf="consultationForm.get('actualDuration')?.touched && consultationForm.get('actualDuration')?.invalid" class="text-danger">
        <small *ngIf="consultationForm.get('actualDuration')?.hasError('required')">Duration is required.</small>
        <small *ngIf="consultationForm.get('actualDuration')?.hasError('invalidTime')">Please enter a valid time in the format HH:mm:ss (e.g., 14:30:00)</small>
      </div>
    </div>

    <div class="form-group">
      <label>Appointment :</label>
      <select class="form-control" formControlName="appointment">
        <option *ngFor="let a of appointments" [ngValue]="a">{{ a.date }} Ã  {{ a.startTime }}</option>
      </select>
      <div *ngIf="consultationForm.get('appointment')?.touched && consultationForm.get('appointment')?.invalid" class="text-danger">
        <small *ngIf="consultationForm.get('appointment')?.hasError('required')">The 'Appointment' field is required.</small>
      </div>
    </div>

    <button type="submit" class="btn btn-primary mt-3" [disabled]="consultationForm.invalid">Add</button>
  </form>
</div>
